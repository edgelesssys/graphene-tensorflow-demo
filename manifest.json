{
    "Packages": {
        "tensorflow-package": {
            "Debug": true,
            "SignerID": "43361affedeb75affee9baec7e054a5e14883213e5a121b67d74a0e12e9d2b7a",
            "ProductID": 15,
            "SecurityVersion": 1
        }
    },
    "Marbles": {
        "tf-server": {
            "Package": "tensorflow-package",
            "Parameters": {
                "Argv": [
                    "tensorflow_model_server",
                    "--model_name=resnet50",
                    "--model_base_path=/models/resnet50-v15-fp32",
                    "--port=8500",
                    "--rest_api_port=8501",
                    "--ssl_config_file=ssl.cfg",
                    "--file_system_poll_wait_seconds=10",
                    "--enable_profiler=false"
                ],
                "Files": {
                    "ssl.cfg": "server_key: '-----BEGIN PRIVATE KEY-----\\n{{ base64 .MarbleRun.MarbleCert.Private }}\\n-----END PRIVATE KEY-----'\nserver_cert: '-----BEGIN CERTIFICATE-----\\n{{ base64 .MarbleRun.MarbleCert.Cert }}\\n-----END CERTIFICATE-----'\nclient_verify: false",
                    "/dev/attestation/protected_files_key": "{{ hex .Secrets.pfKey }}"
                }
            }
        }
    },
    "Secrets": {
        "pfKey": {
            "Type": "symmetric-key",
            "Size": 128,
            "UserDefined": true
        }
    },
    "Users": {
        "tf-admin": {
            "Certificate": "-----BEGIN CERTIFICATE-----\nMIIFazCCA1OgAwIBAgIUJ0Q5uH66T0lDRO2XqjdKak2wCaswDQYJKoZIhvcNAQEL\nBQAwRTELMAkGA1UEBhMCREUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM\nGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDAeFw0yMTEwMTkxMTQwMjhaFw0yMTEx\nMTgxMTQwMjhaMEUxCzAJBgNVBAYTAkRFMRMwEQYDVQQIDApTb21lLVN0YXRlMSEw\nHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwggIiMA0GCSqGSIb3DQEB\nAQUAA4ICDwAwggIKAoICAQC7lbQwb4fMWgoyZhlcbrMwHGT2FavHrES9U86ZvGOI\n1NfNFqG9/b/DESnrBRfUbWKa6nFoy10rdkS3ejB6Zz8YuFCl+CCEi3E7h+nKGft3\nJv0212Z5P2JDEcz07kZXTiSoTPEKxVVgvc0tdHh/6WHfvCtS5iL1MTCUutv9Pbt4\ncg03C7sRO5eQX+5smbws2TGhH9ho5Q1lEj0clNJbZz3Wo4+itNtT68er0efjo0YA\nwsryMyT0vCVn5XfenAN2XMk2FgQsP6+Scihtf0J6Luyz1vPvKua8dIUweXTgHpdA\nydhlOPF4qsR2OqWQD62CfyUNZ+Y08lRpctr01lUOD7B42JS9qM9VwVktZ1w5G/XE\nfJOo/rOqViWq6jG5VKrgJ0fcVA7bY6HdoByf2gStg5VXCl/YSmGdmRt9+d2SkLDS\n/Uf/VJp/nzSZUmNm08Eb03WVNRmT/ZFXRbsLvvtYOBFjD7nbPkZx8MheNbWRMNmg\nonTNRtxsziUhAOlF944hQxzmV8jFu3g3iuK9vKqrHPhB7eNhwQOIlTAl4m+vANfN\nY7qX/lYNczxBi6O+TK2F/12n/puETRJMnYebiAp3O96vLxncPX7sPG7o4nuOozVB\n0pZXRfGoVp5/p0I8vy/GDu4xBXE2A+YICgVEBlAT2i346kz5FJhrviw7rNs58fVX\nAQIDAQABo1MwUTAdBgNVHQ4EFgQUsmLHcsq6iFzk/2sLSPqdCedzRMQwHwYDVR0j\nBBgwFoAUsmLHcsq6iFzk/2sLSPqdCedzRMQwDwYDVR0TAQH/BAUwAwEB/zANBgkq\nhkiG9w0BAQsFAAOCAgEAH9ZdBCKaHgWn5/I7CmOULoknUZhTVxAXmOZcXLJnB6FB\nn5KBNVg1GTyUxn6gD30zXpqLTFEuV1QpStFF/vQYeSZY0C/H7ofwj6pYNK7yEU7X\nZnI4VSN6zrNGMXYQk0OGvnUFgInyqSQ2bKeuKtPoSvKVwkyaQ+4SwRT2NPrKRF5L\nKdj47Tt83KXc09PrQ/3Fy9UUh4+AePbZ59uerzUlZcZxdIYCmos49slMcYIfpn0C\nj6mCRS7AhrgkU70nBbd0hmTyvJi0UUTqidf61P6UuqGHDMdeLX9sRBkJq0fQbhBD\nS1L04Db7nbyn4KY2oiBcDbDtlODg9RXpTYrMcz4j/KdDSPLBvCEcQaezXzcbmPOQ\nKe5pbRRQIUX7jBen0eTRgMx0ImMD9KlOadQ85DrTpWZLscT+xbmFTOpI4BH8SFlo\nTJZkPEI6b7nSm1gMBpXUNOK7TCuWk//wJAGiBoTPXJAXleBOypzd96zLZj9C2/Eo\nPB3yPP0CehmBQFR/nzZ/QNWhiQHjsqkFqf0psPG6Dh6hb2ojRkab6vVQL3WINmg6\nNBNf7+PotMzpiO55rK1MeqVkUSo/SevuQdCQn9B+86DOHcX4vV6N46oOE98SQpXq\nHqJGuCZEcy8zNOFWgAzAQAM4o13KbZohoVT5NFsvDHKoNjp5CAKcWxv1sGS1loI=\n-----END CERTIFICATE-----\n",
            "Roles": [
                "secret-manager"
            ]
        }
    },
    "Roles": {
        "secret-manager": {
            "ResourceType": "Secrets",
            "ResourceNames": [
                "pfKey"
            ],
            "Actions": [
                "WriteSecret",
                "ReadSecret"
            ]
        }
    }
}